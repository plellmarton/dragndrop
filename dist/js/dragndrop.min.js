function DragNDrop(t,e){this.Container,this.Repository,this.DropZone,this.data,this.init(t,e)}DragNDrop.prototype={init:function(t,e){this.Container=t,this.data={repository:e.repository,dropzone:[]},this.update(),this.Repository=this.Container.querySelectorAll('[data-ref="repository"]')[0],this.DropZone=this.Container.querySelectorAll('[data-ref="dropzone"]')[0],this.events()},renderItem:function(t,e){var r='<div class="dragndrop__item" draggable="true" data-ref="item" data-id="{{img.id}}" data-index="{{index}}"><img src="{{img.src}}" alt="{{img.name}}" draggable="false"><span class="dragndrop__item-name" draggable="false">{{img.name}}</span></div>',a={"{{index}}":e,"{{img.id}}":t.id,"{{img.src}}":t.url,"{{img.name}}":t.name};return r=r.replace(/{{img.src}}|{{img.name}}|{{img.id}}|{{index}}/gi,function(t){return a[t]})},update:function(){var t=this.render();this.Container.innerHTML=t},events:function(){this.Container.addEventListener("dragstart",function(t){var e=t.target,r=t.path[1].getAttribute("data-ref"),a=parseInt(e.getAttribute("data-index"));t.dataTransfer.setData("moveFrom",r),t.dataTransfer.setData("item",JSON.stringify(this.data[r][a])),t.dataTransfer.setData("itemIndex",a)}.bind(this)),this.Container.addEventListener("drop",function(t){var e=t.dataTransfer.getData("moveFrom"),r=JSON.parse(t.dataTransfer.getData("item")),a=t.dataTransfer.getData("itemIndex"),i=t.target.getAttribute("data-ref");if(e!==i){var n=this.data;void 0===n[i]&&(n[i]=[]),n[i].push(r),n[e].splice(parseInt(a),1),console.log(parseInt(a)),this.data=n}this.update()}.bind(this)),this.Container.addEventListener("dragover",function(t){var e=t.target.getAttribute("data-ref");"dropzone"===e?t.preventDefault():"repository"===e&&t.preventDefault()}.bind(this))},render:function(){var t='<div class="dragndrop__repository" data-ref="repository">{{repository.items}}</div><div class="dragndrop__dropzone" data-ref="dropzone">{{dropzone.items}}</div>',e={"{{repository.items}}":this.data.repository.map(function(t,e){return this.renderItem(t,e)}.bind(this)).toString().replace(/,/gi,""),"{{dropzone.items}}":void 0!==this.data.dropzone?this.data.dropzone.map(function(t,e){return this.renderItem(t,e)}.bind(this)).toString().replace(/,/gi,""):""};return t=t.replace(/{{repository.items}}|{{dropzone.items}}/gi,function(t){return e[t]})}};
//# sourceMappingURL=maps/dragndrop.min.js.map
